import{_ as f,b,c as o,d as n,e,f as a,F as y,j as r,m as v,t as h,i as d,h as x}from"./index-22bf9e45.js";const w={components:{},data(){return{validationErrors:"",errors:null,isSuccess:!1,isErrors:!1,employmentAllownace:{allowance_claimed:"0.00",allowance_remaining:"5000.00",status:""},apprenticeshipLevy:{pay_bill_ytd:"0.00",levy_due_ytd:"0.00",shares_apprentice_levy_allowance:"",status:""},isEnableEmploymentAllownace:!1,isEnableApprenticeshipLevy:!1}},mounted(){this.getAllowances()},methods:{validateData(p,l){const i=l;return this.validationErrors=this.$validateFormData(p,i),Object.keys(this.validationErrors).length===0},enableEmploymentAllownace(){this.isErrors=!1,this.isSuccess=!1,this.isEnableEmploymentAllownace=!0,this.isEnableApprenticeshipLevy=!1},enableApprenticeshipLevy(){this.isErrors=!1,this.isSuccess=!1,this.isEnableApprenticeshipLevy=!0,this.isEnableEmploymentAllownace=!1},async getAllowances(){const p="/get-allowances";try{let l=await this.$axios.get(p);console.log(l);let i=l.data.employment_allowance,c=l.data.apprenticeship_levy;i&&(this.employmentAllownace.allowance_claimed=i.allowance_claimed,this.employmentAllownace.allowance_remaining=i.allowance_remaining),c&&(this.apprenticeshipLevy.pay_bill_ytd=c.pay_bill_ytd,this.apprenticeshipLevy.levy_due_ytd=c.levy_due_ytd,this.apprenticeshipLevy.shares_apprentice_levy_allowance=c.shares_apprentice_levy_allowance)}catch(l){let i=l.response.data.errors;console.log("errors",i)}},async saveEmploymentAllownace(p){this.employmentAllownace.status=p;let l=this.employmentAllownace;if(!this.validateData(l,[]))return;const i="/employment-allowance";try{await this.$axios.post(i,l),this.isErrors=!1,this.isSuccess=!0}catch(c){this.errors=c.response.data.errors,this.isSuccess=!1,this.isErrors=!0}},async saveApprenticeshipLevy(p){this.apprenticeshipLevy.status=p;let l=this.apprenticeshipLevy;if(!this.validateData(l,["shares_apprentice_levy_allowance"]))return;const i="/apprenticeship-levy";try{await this.$axios.post(i,l),this.isErrors=!1,this.isSuccess=!0}catch(c){this.errors=c.response.data.errors,this.isSuccess=!1,this.isErrors=!0}}}},g={class:"col-12 md:col-12"},E={class:"card card-w-title"},A={class:"grid"},k={class:"col-12 md:col-6"},L={class:"flex flex-column align-items-center justify-content-center"},C={class:"w-full surface-card py-8 px-5 sm:px-8 flex flex-column align-items-center",style:{"border-radius":"53px"}},S={class:"mt-4 w-full border-300 border-bottom-1 border-top-1 border-left-1 border-right-1"},V={class:"flex align-items-center py-3"},D=e("span",{class:"ml-4 flex flex-column"},[e("h3",{class:"text-900 lg:text-xl font-medium mb-0 block"},"Employment allowance")],-1),U={class:"mt-4 ml-4",style:{"min-height":"3.5rem",width:"3.5rem"}},B=e("br",null,null,-1),j={key:0,class:"text-center mb-5 pt-2 pb-2",style:{"background-color":"#80D1B4","border-radius":"5px !important"}},N=e("span",{class:"text-white font-medium"},"Saved Successfully",-1),T=[N],I={key:1,class:"text-center mb-5 pt-2 pb-2",style:{"background-color":"#E88D58","border-radius":"5px !important"}},F={class:"text-white font-medium"},Y=e("br",null,null,-1),q={class:"row"},O=e("small",{class:"ml-4 block"},[d(" If you have already claimed Employment Allowance in the current "),e("br"),d(" tax year, add the claimed amount here. Otherwise, "),e("br"),d("leave it at £ 0.00. ")],-1),K=e("br",null,null,-1),P={class:"ml-4",style:{height:"4.5rem",width:"3rem"}},R=e("label",{for:"postCode"},"Allowance already claimed*",-1),z={key:0,class:"ml-3 font-medium validation-text p-2"},G=e("br",null,null,-1),H=e("br",null,null,-1),J={class:"ml-4",style:{height:"4.5rem",width:"1rem"}},M=e("label",{class:"mt-5",for:"postCode"},"Remaining allowance*",-1),Q={key:0,class:"ml-3 font-medium validation-text p-2"},W=e("br",null,null,-1),X={class:"py-1 mt-3 flex",style:{height:"3.2rem !important",width:"100%"}},Z=e("br",null,null,-1),$={class:"mt-3 w-full border-300 border-bottom-1 border-top-1 border-left-1 border-right-1"},ee={class:"flex align-items-center py-3"},le=e("span",{class:"ml-4 mr-3 flex flex-column"},[e("h3",{class:"text-900 lg:text-xl font-medium mb-0 block"},"Apprenticeship Levy")],-1),te={class:"mt-4 ml-5",style:{height:"3.5rem",width:"3.5rem"}},se=e("br",null,null,-1),oe={key:0,class:"text-center mb-5 pt-2 pb-2",style:{"background-color":"#80D1B4","border-radius":"5px !important"}},ne=e("span",{class:"text-white font-medium"},"Saved Successfully",-1),ie=[ne],ae={key:1,class:"text-center mb-5 pt-2 pb-2",style:{"background-color":"#E88D58","border-radius":"5px !important"}},re={class:"text-white font-medium"},ce=e("br",null,null,-1),pe={class:"row"},de=e("small",{class:"ml-4 block"},[d(" If you have an annual pay bill of more than £3 million, "),e("br"),d("you are required to pay the Apprenticeship Levy. You can "),e("br"),d("use the Apprenticeship Levy each month. ")],-1),me=e("br",null,null,-1),he={class:"ml-4",style:{height:"4.5rem",width:"3rem"}},ue=e("label",{for:"postCode"},"Pay bill YTD*",-1),_e={key:0,class:"ml-3 font-medium validation-text p-2"},ye=e("br",null,null,-1),be=e("br",null,null,-1),ve={class:"ml-4",style:{height:"4.5rem",width:"1rem"}},fe=e("label",{class:"mt-5",for:"postCode"},"Levy due YTD*",-1),xe={key:0,class:"ml-3 font-medium validation-text p-2"},we=e("br",null,null,-1),ge={class:"py-1 mt-3 flex",style:{height:"3.2rem !important",width:"100%"}},Ee=e("br",null,null,-1),Ae=x('<div class="col-12 md:col-6"><div class="flex flex-column align-items-center justify-content-center"><div class="w-full surface-card py-8 px-5 sm:px-8 flex flex-column align-items-center" style="border-radius:53px;"><div class="w-full flex align-items-center py-5 border-300 border-bottom-1"><span class="p-2 flex justify-content-center align-items-center bg-cyan-400 border-round" style="height:3.5rem;width:3.5rem;"><i class="text-50 pi pi-fw pi-table text-2xl"></i></span><span class="ml-4 flex flex-column"><span class="text-900 lg:text-xl font-medium mb-0 block">Employment allowance</span><span class="text-600 lg:text-sm">An allowance of £5,000 per tax year is available to offset against your Class 1 NICs liability.</span></span></div><div class="w-full flex align-items-center py-5 border-300 border-bottom-1"><span class="p-2 flex justify-content-center align-items-center bg-orange-400 border-round" style="height:3.5rem;width:3.5rem;"><i class="pi pi-fw pi-question-circle text-50 text-2xl"></i></span><span class="ml-4 flex flex-column"><span class="text-900 lg:text-xl font-medium mb-0">Apprenticeship Levy</span><span class="text-600 lg:text-sm">The Apprenticeship Levy is a levy on UK employers to fund new apprenticeships. An allowance of £15,000 per tax year is available to offset against your payments.</span></span></div></div></div></div>',1);function ke(p,l,i,c,t,u){const m=b("Button"),_=b("InputText");return o(),n("div",g,[e("div",E,[e("div",A,[e("div",k,[e("div",L,[e("div",C,[e("div",S,[e("div",V,[D,e("span",U,[a(m,{onClick:l[0]||(l[0]=s=>u.enableEmploymentAllownace()),label:"Enable",class:"ml-5"})])]),B,t.isEnableEmploymentAllownace?(o(),n(y,{key:0},[t.isSuccess?(o(),n("div",j,T)):r("",!0),t.isErrors?(o(),n("div",I,[(o(!0),n(y,null,v(t.errors,s=>(o(),n("span",F,[d(h(s)+" ",1),Y]))),256))])):r("",!0),e("div",q,[O,K,e("span",P,[R,a(_,{modelValue:t.employmentAllownace.allowance_claimed,"onUpdate:modelValue":l[1]||(l[1]=s=>t.employmentAllownace.allowance_claimed=s),class:"ml-3",id:"postCode",optionLabel:"postCode",type:"text",style:{width:"93%",height:"45px"}},null,8,["modelValue"]),t.validationErrors.allowance_claimed?(o(),n("span",z,h(t.validationErrors.allowance_claimed),1)):r("",!0)]),G,H,e("span",J,[M,a(_,{modelValue:t.employmentAllownace.allowance_remaining,"onUpdate:modelValue":l[2]||(l[2]=s=>t.employmentAllownace.allowance_remaining=s),class:"ml-3",id:"postCode",optionLabel:"postCode",type:"text",style:{width:"93%",height:"45px"}},null,8,["modelValue"]),t.validationErrors.allowance_remaining?(o(),n("span",Q,h(t.validationErrors.allowance_remaining),1)):r("",!0)]),W,e("div",X,[a(m,{onClick:l[3]||(l[3]=s=>u.saveEmploymentAllownace("enabled")),label:"Save",class:"ml-3"}),a(m,{onClick:l[4]||(l[4]=s=>t.isEnableEmploymentAllownace=!1),label:"Cancel",class:"ml-3",style:{"background-color":"transparent",color:"black"}})]),Z])],64)):r("",!0)]),e("div",$,[e("div",ee,[le,e("span",te,[a(m,{onClick:l[5]||(l[5]=s=>u.enableApprenticeshipLevy()),label:"Enable",class:"ml-5"})])]),se,t.isEnableApprenticeshipLevy?(o(),n(y,{key:0},[t.isSuccess?(o(),n("div",oe,ie)):r("",!0),t.isErrors?(o(),n("div",ae,[(o(!0),n(y,null,v(t.errors,s=>(o(),n("span",re,[d(h(s)+" ",1),ce]))),256))])):r("",!0),e("div",pe,[de,me,e("span",he,[ue,a(_,{modelValue:t.apprenticeshipLevy.pay_bill_ytd,"onUpdate:modelValue":l[6]||(l[6]=s=>t.apprenticeshipLevy.pay_bill_ytd=s),class:"ml-3",id:"postCode",optionLabel:"postCode",type:"text",style:{width:"93%",height:"45px"}},null,8,["modelValue"]),t.validationErrors.pay_bill_ytd?(o(),n("span",_e,h(t.validationErrors.pay_bill_ytd),1)):r("",!0)]),ye,be,e("span",ve,[fe,a(_,{modelValue:t.apprenticeshipLevy.levy_due_ytd,"onUpdate:modelValue":l[7]||(l[7]=s=>t.apprenticeshipLevy.levy_due_ytd=s),class:"ml-3",id:"postCode",optionLabel:"postCode",type:"text",style:{width:"93%",height:"45px"}},null,8,["modelValue"]),t.validationErrors.levy_due_ytd?(o(),n("span",xe,h(t.validationErrors.levy_due_ytd),1)):r("",!0)]),we,e("div",ge,[a(m,{onClick:l[8]||(l[8]=s=>u.saveApprenticeshipLevy("enabled")),label:"Save",class:"ml-3"}),a(m,{onClick:l[9]||(l[9]=s=>t.isEnableApprenticeshipLevy=!1),label:"Cancel",class:"ml-3",style:{"background-color":"transparent",color:"black"}})]),Ee])],64)):r("",!0)])])])]),Ae])])])}const Ce=f(w,[["render",ke]]);export{Ce as default};
